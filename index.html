<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Exact Bulk Maker</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body style="background:#111;color:#fff;font-family:sans-serif;padding:20px">

<h2>Exact Output Bulk Generator</h2>

<input id="slug" placeholder="Slug (ishq-par-jor-nahi)">
<input id="title" placeholder="Title (IshqParJorNahi)">
<input id="start" type="number" placeholder="Start Chapter">
<input id="end" type="number" placeholder="End Chapter">
<button onclick="generate()">Generate ZIP</button>

<script>

const template = '<!DOCTYPE html>\n\
<html lang="en">\n\
<head>\n\
  <meta charset="UTF-8" />\n\
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>\n\
  <title>__TITLE__</title>\n\
  <style>\n\
    body, html { margin:0; padding:0; background:#000; overflow-x:hidden; height:100vh; }\n\
    #comic { width:100%; max-width:800px; margin:0 auto; }\n\
    img { display:block; width:100% !important; height:auto !important; margin:0; padding:0; pointer-events:none; -webkit-touch-callout:none; -webkit-user-drag:none; }\n\
    .overlay { position:absolute; top:0; left:0; width:100%; height:100%; background:transparent; pointer-events:auto; }\n\
  </style>\n\
</head>\n\
<body>\n\
\n\
<script>\n\
  function getCookie(name) {\n\
    let matches = document.cookie.match(new RegExp("(?:^|; )" + name.replace(/([.$?*|{}()[\\\\]\\\\/+^])/g, \'\\\\$1\') + "=([^;]*)"));\n\
    return matches ? decodeURIComponent(matches[1]) : "";\n\
  }\n\
\n\
  if (getCookie("site_access") !== "true") {\n\
    document.documentElement.innerHTML = `\n\
      <head><title>Access Blocked</title></head>\n\
      <body style="margin:0; background:#111; color:white; font-family:Arial; text-align:center; padding:50px;">\n\
        <div style="font-size:24px; background:#900; padding:30px; border-radius:15px; max-width:90%; margin:auto;">\n\
          ⚠️ Direct Access Blocked<br><br>\n\
          Shortener solve karke hi site open hogi.<br><br>\n\
          <a href="gate.html" style="color:#fff; background:#f00; padding:15px; border-radius:10px; text-decoration:none;">Unlock Site</a>\n\
        </div>\n\
      </body>`;\n\
    while (document.body.firstChild) {\n\
      document.body.removeChild(document.body.firstChild);\n\
    }\n\
    throw "";\n\
  }\n\
<\/script>\n\
\n\
  <div id="comic"></div>\n\
\n\
  <script>\n\
    document.addEventListener("contextmenu", e => e.preventDefault());\n\
    document.addEventListener("dragstart", e => e.preventDefault());\n\
\n\
    // Chapter __CH__ images load\n\
    const basePath = "https://cdn.jsdelivr.net/gh/maxton480/Comics@main/comics/__SLUG__/ch__CH__/";\n\
\n\
    const container = document.getElementById("comic");\n\
    for (let i = 1; i <= 100; i++) {\n\
      const num = i.toString().padStart(3, "0");\n\
      const src = basePath + num + ".webp";\n\
\n\
      const div = document.createElement("div");\n\
      div.style.position = "relative";\n\
\n\
      const img = document.createElement("img");\n\
      img.src = src;\n\
      img.loading = "lazy";\n\
      img.onerror = () => div.remove();\n\
\n\
      const overlay = document.createElement("div");\n\
      overlay.className = "overlay";\n\
\n\
      div.appendChild(img);\n\
      div.appendChild(overlay);\n\
      container.appendChild(div);\n\
    }\n\
  <\/script>\n\
</body>\n\
</html>';

function generate(){

const slug=document.getElementById("slug").value.trim();
const title=document.getElementById("title").value.trim();
const start=parseInt(document.getElementById("start").value);
const end=parseInt(document.getElementById("end").value);

if(!slug||!title||!start||!end){alert("Fill all fields");return;}

const zip=new JSZip();

for(let ch=start;ch<=end;ch++){

let file = template
.replace(/__SLUG__/g, slug)
.replace(/__CH__/g, ch)
.replace(/__TITLE__/g, title);

zip.file("ch"+ch+".html", file);

}

zip.generateAsync({type:"blob"}).then(function(content){
  const link=document.createElement("a");
  link.href=URL.createObjectURL(content);
  link.download=slug+"_chapters.zip";
  link.click();
});

}

</script>

</body>
</html>
